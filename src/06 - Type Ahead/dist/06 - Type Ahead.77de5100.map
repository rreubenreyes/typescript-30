{"version":3,"sources":["index.ts"],"names":[],"mappings":"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","file":"06 - Type Ahead.77de5100.map","sourceRoot":"..","sourcesContent":["/* interfaces */\ninterface City {\n  city: string\n  growth_from_2000_to_2013: string\n  latitude: number\n  longitude: number\n  population: string\n  rank: string\n  state: string\n}\n\n/* fetch data */\nconst getCitiesData = async (): Promise<City[]> => {\n  const endpoint: string =\n    'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json'\n  const citiesRes: Response = await fetch(endpoint)\n  const citiesJson: City[] = await citiesRes.json()\n  return citiesJson\n}\n\nconst cities: City[] = []\ngetCitiesData().then((citiesData: City[]) => {\n  cities.push(...citiesData)\n})\n\n/* elements */\nconst searchInput: HTMLInputElement = document.querySelector('.search')\nconst suggestions: HTMLUListElement = document.querySelector('.suggestions')\n\n/* behavior */\nfunction findMatches(wordToMatch: string, citiesData: City[]): City[] {\n  return citiesData.filter(place => {\n    // here we need to figure out if the city or state matches what was searched\n    const regex = new RegExp(wordToMatch, 'gi')\n    return place.city.match(regex) || place.state.match(regex)\n  })\n}\n\nfunction numberWithCommas(x: string): string {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n}\n\n/* handlers */\nfunction handleInput(this: HTMLInputElement): string | void {\n  const matchArray: City[] = findMatches(this.value, cities)\n  const html: string = matchArray\n    .map(place => {\n      const regex: RegExp = new RegExp(this.value, 'gi')\n      const cityName: string = place.city.replace(\n        regex,\n        `<span class=\"hl\">${this.value}</span>`\n      )\n      const stateName = place.state.replace(\n        regex,\n        `<span class=\"hl\">${this.value}</span>`\n      )\n      return `\n      <li>\n        <span class=\"name\">${cityName}, ${stateName}</span>\n        <span class=\"population\">${numberWithCommas(place.population)}</span>\n      </li>\n    `\n    })\n    .join('')\n  suggestions.innerHTML = html\n}\n\n/* listeners */\nsearchInput.addEventListener('change', handleInput)\nsearchInput.addEventListener('keyup', handleInput)\n"]}